<ion-header>

  <ion-navbar>
    <button ion-button menuToggle icon-only>
      <ion-icon name="menu"></ion-icon>
      <div class="header-notification"></div>
    </button>
    <ion-title></ion-title>
    <ion-buttons end class="navheader-end-buttons" >
      <button ion-button icon-only (click)="buttonQRCodeScan()">
        <i class="mdi mdi-camera-enhance navheader-button" style="font-size: 160%;"></i>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<!-- Maps Overlay -->

<ion-content>

  <div (click)="buttonMap()" id="map" style="
    width:100%;
    height:100%;
    background-color: lightgoldenrodyellow;
    background-image: url('assets/imgs/default-background.png');
    background-size: 100%;
  "></div>

  <span class="main-group-title">Alexanderplatz</span>

</ion-content>

<!-- Konfetti Notice Overlay  -->

<div *ngIf="showKonfettiNotice" class="info-overlay" [@animateFade]="stateKonfettiNotice">
  <div class="info-overlay-konfetti">
    <div class="info-overlay-konfetti-text">
      <!-- TODO: vertical center in div -->
      <div style="margin: auto;">
        Willkommen in der Nachbarschaft
      </div>
    </div>
    <div style="width: 160px; margin-left: auto; margin-right: auto;">
      <button ion-button round (click)="buttonKonfettiNotice()">
        <span>Starte Tour</span>
      </button>
    </div>
  </div>
</div>

<!-- Module Overlay -->

<div id="content-overlay" [@animateModulePanel]="stateModulePanel" style="
    position: absolute;
    margin: 0px;
    height: 67%;
    width:100%;
    background-color: white;
    min-width: 100px;
    min-height: 100px;
    z-index: 1000;">

  <!-- Dynamic Module Buttons -->

  <div *ngFor="let id of moduleConfig; index as i">
    <button ion-button round  (click)="buttonModule(id)" class="module-button" [style.right.px]="(10+(i*80))" style="
    right: 170px;
  " [style.background-color]="(showModuleFocus===id) ? getModuleButtonColor(id) : 'grey'">
      <i [ngClass]="getModuleIcon(id)" aria-hidden="true"></i>
    </button>
    <div *ngIf="getModuleHasNotification(id)" class="module-notification" [style.right.px]="(11+(i*80))" [style.background-color]="getModuleButtonColor(id)">&nbsp;</div>
  </div>


  <ion-content>

    <!-- Dynamic Module Content Panels-->

    <div *ngFor="let id of moduleConfig"  [ngSwitch]="id" style="text-align: center; font-size: 16px;">

        <div *ngSwitchCase="'news'">
          <div *ngIf="showModuleFocus==='news'" style="padding-top: 48px;">
            <module-newsfeed [config]="getModuleConfig(id)"></module-newsfeed>
          </div>
        </div>

        <div *ngSwitchCase="'ideas'">
          <div *ngIf="showModuleFocus==='ideas'" style="padding-top: 48px;">ideas</div>
        </div>

        <div *ngSwitchCase="'forum'">
          <div *ngIf="showModuleFocus==='forum'" style="padding-top: 48px;">forum</div>
        </div>

        <div *ngSwitchDefault style="padding-top: 48px;">
          FAIL: Unknown module '{{id}}' - please update app.
        </div>

    </div>

    <!--

    <div *ngIf="showModuleFocus==='module-a'" class="module-panel-wrapper">
      <h2>TODO: Forum Module</h2>
    </div>

    <div *ngIf="showModuleFocus==='module-b'" class="module-panel-wrapper">
      <h2>TODO: Idea Module</h2>
    </div>

    <div *ngIf="showModuleFocus==='module-c'" class="module-panel-wrapper" [innerHTML]="getModule(2)"></div>

    -->

  </ion-content>

</div>




